<!-- accounts/templates/accounts/user_detail.html -->
{% extends 'base.html' %}
{% load static %}

{% block title %}Ø¬Ø²ÛŒÛŒØ§Øª Ú©Ø§Ø±Ø¨Ø± - {{ user.username }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'accounts/accounts/css/user_detail.css' %}">
{% endblock %}

{% block content %}
<div class="user-detail-page">
    <div class="container mt-4">
        <!-- Ù‡Ø¯Ø± ØµÙØ­Ù‡ -->
        <div class="user-detail-header">
            <div class="d-flex justify-content-between align-items-center">
                <h1 class="user-detail-title">ğŸ‘¤ Ø¬Ø²ÛŒÛŒØ§Øª Ú©Ø§Ø±Ø¨Ø±</h1>
                <div>
                    <a href="{% url 'accounts:user_list' %}" class="btn btn-outline-primary me-2">
                        <i class="fas fa-arrow-right me-1"></i>Ù„ÛŒØ³Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
                    </a>
                    <a href="{% url 'accounts:admin_dashboard' %}" class="btn btn-outline-secondary">
                        <i class="fas fa-tachometer-alt me-1"></i>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯
                    </a>
                </div>
            </div>
        </div>

        <!-- Ú©Ø§Ø±Øª Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø± -->
        <div class="user-profile-card">
            <div class="user-profile-header">
                <div class="user-avatar-large">
                    {{ user.username|first|upper }}
                </div>
                <div class="user-basic-info">
                    <h2>{{ user.username }}</h2>
                    <div class="user-email">{{ user.email|default:"Ø¨Ø¯ÙˆÙ† Ø§ÛŒÙ…ÛŒÙ„" }}</div>
                    <div class="user-join-date">
                        Ø¹Ø¶Ùˆ since {{ user.date_joined|date:"Y/m/d" }}
                    </div>
                </div>
            </div>

            <div class="info-grid">
                <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ -->
                <div class="info-section">
                    <h3 class="info-section-title">
                        <i class="fas fa-user-circle me-2"></i>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ
                    </h3>
                    <div class="detail-list">
                        <div class="detail-item">
                            <span class="detail-label">Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ:</span>
                            <span class="detail-value">{{ user.username }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Ø§ÛŒÙ…ÛŒÙ„:</span>
                            <span class="detail-value">{{ user.email|default:"-" }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Ù†Ø§Ù…:</span>
                            <span class="detail-value">{{ user.first_name|default:"-" }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ:</span>
                            <span class="detail-value">{{ user.last_name|default:"-" }}</span>
                        </div>
                    </div>
                </div>

                <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø¨ -->
                <div class="info-section">
                    <h3 class="info-section-title">
                        <i class="fas fa-info-circle me-2"></i>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø­Ø³Ø§Ø¨
                    </h3>
                    <div class="detail-list">
                        <div class="detail-item">
                            <span class="detail-label">ØªØ§Ø±ÛŒØ® Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…:</span>
                            <span class="detail-value">{{ user.date_joined|date:"Y/m/d - H:i" }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Ø¢Ø®Ø±ÛŒÙ† ÙˆØ±ÙˆØ¯:</span>
                            <span class="detail-value">{{ user.last_login|date:"Y/m/d - H:i"|default:"-" }}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">ÙˆØ¶Ø¹ÛŒØª Ø­Ø³Ø§Ø¨:</span>
                            <span class="detail-value">
                                {% if user.is_active %}
                                    <span class="status-badge">ÙØ¹Ø§Ù„</span>
                                {% else %}
                                    <span class="badge bg-secondary">ØºÛŒØ±ÙØ¹Ø§Ù„</span>
                                {% endif %}
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ -->
            <div class="status-grid">
                <div class="status-item">
                    <div class="status-label">Ù†Ù‚Ø´ Ú©Ø§Ø±Ø¨Ø±</div>
                    <div class="status-value">
                        {% if user.is_superuser %}
                            <span class="role-badge role-superuser">Ø³ÙˆÙ¾Ø± Ú©Ø§Ø±Ø¨Ø±</span>
                        {% elif user.is_staff %}
                            <span class="role-badge role-staff">Ù…Ø¯ÛŒØ±</span>
                        {% else %}
                            <span class="role-badge role-user">Ú©Ø§Ø±Ø¨Ø± Ø¹Ø§Ø¯ÛŒ</span>
                        {% endif %}
                    </div>
                </div>
                
                <div class="status-item">
                    <div class="status-label">Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª Ø§ÛŒÙ…ÛŒÙ„</div>
                    <div class="status-value">
                        {% if user.is_active %}
                            <span class="status-badge">ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡</span>
                        {% else %}
                            <span class="badge bg-secondary">ØªØ§ÛŒÛŒØ¯ Ù†Ø´Ø¯Ù‡</span>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø± -->
            <div class="management-actions">
                <h4 class="actions-title">Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±</h4>
                <div class="action-buttons-grid">
                    {% if user.id != request.user.id %}
                    <a href="{% url 'accounts:toggle_user_active' user.id %}" 
                       class="btn action-btn btn-toggle-user">
                        <i class="fas {% if user.is_active %}fa-ban{% else %}fa-check{% endif %}"></i>
                        {% if user.is_active %}ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±{% else %}ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¨Ø±{% endif %}
                    </a>
                    {% else %}
                    <div class="warning-message">
                        <i class="fas fa-info-circle me-2"></i>
                        Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø­Ø³Ø§Ø¨ Ø®ÙˆØ¯ Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯
                    </div>
                    {% endif %}
                    <a href="{% url 'accounts:user_list' %}" class="btn action-btn btn-back">
                        <i class="fas fa-arrow-right"></i>
                        Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}