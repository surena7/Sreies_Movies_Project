<!-- accounts/templates/accounts/user_dashboard.html -->
{% extends 'base.html' %}
{% load static %}

{% block title %}Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ú©Ø§Ø±Ø¨Ø±ÛŒ - {{ user.username }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'accounts/accounts/css/user_panel.css' %}">
{% endblock %}

{% block content %}
<div class="user-dashboard">
    <div class="container mt-4">
        <!-- Ù‡Ø¯Ø± Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ -->
        <div class="row">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h1 class="movie-title">ğŸ¬ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h1>
                    <div class="user-welcome">
                        <span class="text-muted">Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ØŒ</span>
                        <strong class="text-warning">{{ user.username }}</strong>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ ÙˆØ¶Ø¹ÛŒØª -->
        <div class="dashboard-stats">
            <!-- ÙˆØ¶Ø¹ÛŒØª Ø§Ø´ØªØ±Ø§Ú© -->
            <div class="stat-card">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h4 class="specs-title mb-0">
                        <i class="fas fa-crown me-2"></i>ÙˆØ¶Ø¹ÛŒØª Ø§Ø´ØªØ±Ø§Ú©
                    </h4>
                    {% if subscription_info.is_active %}
                    <span class="badge status-badge">ÙØ¹Ø§Ù„</span>
                    {% else %}
                    <span class="badge bg-secondary">Ø±Ø§ÛŒÚ¯Ø§Ù†</span>
                    {% endif %}
                </div>
                
                <div class="specs-list">
                    <div class="spec-item">
                        <span class="spec-label">Ù¾Ù„Ù†:</span>
                        <span class="spec-value">{{ subscription_info.plan_name }}</span>
                    </div>
                    {% if subscription_info.expiry_date %}
                    <div class="spec-item">
                        <span class="spec-label">Ø§Ù†Ù‚Ø¶Ø§:</span>
                        <span class="spec-value">{{ subscription_info.expiry_date|date:"Y/m/d" }}</span>
                    </div>
                    {% endif %}
                </div>
                
                <div class="mt-3">
                    <a href="{% url 'accounts:subscription_details' %}" class="btn btn-outline-primary w-100 quick-action-btn">
                        <i class="fas fa-info-circle me-1"></i>Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²ÛŒÛŒØ§Øª
                    </a>
                </div>
            </div>

            <!-- Ø¢Ù…Ø§Ø± Ø³Ø±ÛŒØ¹ -->
            <div class="stat-card">
                <div class="stat-icon text-danger">
                    <i class="fas fa-heart"></i>
                </div>
                <h3 class="stat-number">{{ favorites|length }}</h3>
                <p class="stat-text">Ø¹Ù„Ø§Ù‚Ù‡â€ŒÙ…Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</p>
                <a href="{% url 'accounts:favorites_list' %}" class="btn btn-outline-primary quick-action-btn">
                    Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡
                </a>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon text-info">
                    <i class="fas fa-history"></i>
                </div>
                <h3 class="stat-number">{{ watch_history|length }}</h3>
                <p class="stat-text">ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªÙ…Ø§Ø´Ø§</p>
                <a href="{% url 'accounts:watch_history_list' %}" class="btn btn-outline-primary quick-action-btn">
                    Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}